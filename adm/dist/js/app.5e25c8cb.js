(function(t){function e(e){for(var a,l,o=e[0],c=e[1],r=e[2],p=0,d=[];p<o.length;p++)l=o[p],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&d.push(n[l][0]),n[l]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,r||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],a=!0,o=1;o<i.length;o++){var c=i[o];0!==n[c]&&(a=!1)}a&&(s.splice(e--,1),t=l(l.s=i[0]))}return t}var a={},n={app:0},s=[];function l(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=t,l.c=a,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(i,a,function(e){return t[e]}.bind(null,a));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var r=0;r<o.length;r++)e(o[r]);var u=c;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var a=i("85ec"),n=i.n(a);n.a},1:function(t,e){},"102b":function(t,e,i){},2:function(t,e){},3:function(t,e){},4:function(t,e){},5:function(t,e){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("el-container",[i("el-aside",{attrs:{width:"65px"}},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{collapse:!0,router:!0}},[i("el-menu-item",{attrs:{route:"/auto",index:"1"}},[i("i",{staticClass:"el-icon-magic-stick"})]),i("el-menu-item",{attrs:{route:"/manual",index:"2"}},[i("i",{staticClass:"el-icon-setting"})]),i("el-menu-item",{attrs:{route:"/presentation",index:"3"}},[i("i",{staticClass:"el-icon-s-platform"})]),i("el-menu-item",{attrs:{route:"/tech",index:"4"}},[i("i",{staticClass:"el-icon-s-operation"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("Технические настройки")])])],1)],1),i("el-container",[i("el-main",[i("router-view")],1),i("el-footer",[i("div",{staticClass:"volume-container"},[i("span",[t._v("Volume: ")]),i("span",[i("el-slider",{staticStyle:{width:"500px"},attrs:{"show-tooltip":!1},model:{value:t.volume,callback:function(e){t.volume=e},expression:"volume"}})],1)]),i("div",[i("span",[t._v("Остановить видео")]),t._v(" "),i("el-button",{staticClass:"player--pause",staticStyle:{"font-size":"20px"},attrs:{icon:"el-icon-circle-close",circle:""},on:{click:t.goToSplash}})],1)])],1)],1)],1)},s=[],l=(i("99af"),i("4de4"),i("4160"),i("d3b7"),i("ac1f"),i("25f0"),i("3ca3"),i("841c"),i("10d1"),i("159b"),i("ddb0"),i("2b3d"),i("2909")),o=i("d4ec"),c=i("ade3"),r=i("9bd1"),u=i("5364"),p=i("e7fc"),d="ws://wb.pcosr.local:18883/mqtt",h=new URLSearchParams(window.location.search).has("debug"),b={keepalive:30,clientId:"Admin-"+Math.random().toString(16).substr(2,8),protocolId:"MQTT",protocolVersion:4,clean:!0,reconnectPeriod:1e3,connectTimeout:1e4,rejectUnauthorized:!1},v=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,_=new WeakMap,y=function t(){var e,i=this;return Object(o["a"])(this,t),v.set(this,{writable:!0,value:void 0}),f.set(this,{writable:!0,value:{}}),g.set(this,{writable:!0,value:new TextDecoder("utf-8")}),m.set(this,{writable:!0,value:function(){return console.debug("QClient [".concat(d,"] connecting...")),Object(r["a"])(i,v,Object(p["connect"])(d,b)),Object(u["a"])(i,v).on("error",(function(t){console.error("QClient [".concat(d,"] connection error: ").concat(t.message)),Object(u["a"])(i,v).end(Object(u["a"])(i,m))})),Object(u["a"])(i,v).on("connect",(function(){console.debug("QClient [".concat(d,"] connected"))})),Object(u["a"])(i,v).on("message",Object(u["a"])(i,_)),h&&(window.Q=i.publish),i}}),_.set(this,{writable:!0,value:function(t,e){var a,n=Object(u["a"])(i,g).decode(e),s=void 0;try{s=JSON.parse(n)}catch(l){return void console.error("QClient [".concat(d,"] massage parse error: ").concat(l.message))}(null!==(a=Object(u["a"])(i,f)[t])&&void 0!==a?a:[]).forEach((function(t){return t(s)}))}}),Object(c["a"])(this,"publish",(function(t,e){return new Promise((function(a,n){e=JSON.stringify(e),Object(u["a"])(i,v).publish(t,e,{qos:0,retain:!1},(function(t){return t?n(t):a()}))}))})),Object(c["a"])(this,"subscribe",(function(t,e){return new Promise((function(a,n){var s;if(Object(u["a"])(i,f)[t]=[].concat(Object(l["a"])(null!==(s=Object(u["a"])(i,f)[t])&&void 0!==s?s:[]),[e]),1!==Object(u["a"])(i,f)[t].length)return a();Object(u["a"])(i,v).subscribe(t,{qos:0},(function(t){return t?n(t):a()}))}))})),Object(c["a"])(this,"unsubscribe",(function(t,e){return new Promise((function(a,n){var s;if(Object(u["a"])(i,f)[t]=(null!==(s=Object(u["a"])(i,f)[t])&&void 0!==s?s:[]).filter((function(t){return t!==e})),Object(u["a"])(i,f)[t].length>0)return a();Object(u["a"])(i,v).unsubscribe(t,(function(t){return t?n(t):a()}))}))})),t._instance=null!==(e=t._instance)&&void 0!==e?e:Object(u["a"])(this,m).call(this)};Object(c["a"])(y,"_instance",void 0);var C={name:"app",components:{},data:function(){return{qClient:null,authorized:!1,volume:50,volumeTargetSet:"/lit3d/slave/led/volume/set",volumeTargetGet:"/lit3d/slave/0/volume",ledTargetSpash:"/lit3d/slave/led/splash",scenario:"/lit3d/master/scenario"}},methods:{getMessage:function(t,e){console.log(t,e)},runVideoSmall:function(t,e){var i={id:e,muted:!0};this.qClient.publish("/lit3d/slave/".concat(t,"/ss-play"),i)},goToSplash:function(){this.qClient.publish(this.scenario,{})}},watch:{volume:function(t){this.skipWatch?this.skipWatch=!1:this.qClient.publish(this.volumeTargetSet,t)}},mounted:function(){this.qClient=new y,this.$router.push({path:"auto"}),this.qClient.subscribe(this.volumeTargetGet,{qos:0})},beforeDestroy:function(){this.qClient.unsubscribe(this.volumeTargetGet)}},w=C,k=(i("034f"),i("2877")),T=Object(k["a"])(w,n,s,!1,null,null,null),x=T.exports,S=i("bc3a"),O=i.n(S),q=i("a7fe"),L=i.n(q),E=i("8c4f"),j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"manual"},[i("h1",[t._v("Автоматический режим")]),i("el-row",[i("el-col",{attrs:{span:12}},[i("player",{attrs:{type:"big",target:t.scenario,options:{id:"visitors_1"}}})],1)],1)],1)},M=[],V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"player",class:t.type},[i("el-card",{staticClass:"box-card"},[i("div",{staticStyle:{float:"left"}},[t._v(t._s(t.title))]),i("el-button",{staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.play()}}})],1)],1)},W=[],X={name:"Player",props:{type:{type:String,default:"small"},target:{type:[String,Object],default:""},options:{type:Object,default:function(){return{}}},title:{type:String,default:""},dimLight:{type:Boolean,default:!1}},data:function(){return{qClient:new y,dialogVisible:!1,result:{}}},computed:{},methods:{askBeforeStop:function(){this.dialogVisible=!0},play:function(){var t;this.dimLight&&(this.qClient.publish("/devices/wb-dac/controls/EXT1_O1/on",0),this.qClient.publish("/devices/wb-dac/controls/EXT1_O2/on",0)),t="string"==typeof this.target?this.target:this.target.play,this.qClient.publish(t,this.options)},pause:function(){var t;"string"!=typeof this.target&&(t=this.target.pause,this.qClient.publish(t,1))},getMessage:function(t,e){console.log(t,e),this.result=JSON.parse(String(e))},format:function(){if(this.result.duration){var t=this.result.duration-this.result.currentTime,e=Math.floor(t/60),i=t%60;return String(e)+":"+String(i)}return"00:00"},percentage:function(){return Math.round(100*this.result.currentTime/this.result.duration)}},mounted:function(){this.qClient.subscribe(this.target,{qos:0})}},A=X,P=(i("b3df"),Object(k["a"])(A,V,W,!1,null,"3aa9f79c",null)),R=P.exports,B={name:"Auto",components:{Player:R},props:{showDialog:{type:Boolean,default:!1}},data:function(){return{boolean:!1,radio1:"",scenario:"/lit3d/master/scenario",qClient:new y}},methods:{format:function(){return"2:35"}}},U=B,z=Object(k["a"])(U,j,M,!1,null,"012b3b99",null),D=z.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"manual"},[i("h1",[t._v("Ручной режим")]),i("div",{staticClass:"manual-container"},[i("div",{staticStyle:{position:"absolute",right:"20px",top:"10px"}},[t._m(0),t._v(" ВЫКЛ "),i("el-switch",{staticClass:"expo-switch",attrs:{width:80,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.expoSwitch,callback:function(e){t.expoSwitch=e},expression:"expoSwitch"}}),t._v(" ВКЛ ")],1),i("el-tabs",{attrs:{type:"card"}},[i("el-tab-pane",{attrs:{label:"Сценарные видео на большом экране (ru)"}},[i("div",{staticClass:"player-container"},[i("player",{attrs:{type:"small",dimLight:!0,title:"Делегат 1",target:t.scenario,options:{id:"visitors_1"}}}),i("player",{attrs:{type:"small",dimLight:!0,title:"Делегат 2",target:t.scenario,options:{id:"visitors_2"}}}),i("br"),i("br"),i("player",{attrs:{type:"small",dimLight:!0,title:"1. ИИ-Intro",target:t.ledTarget,options:{id:"pack_1",lang:"ru"}}}),i("player",{attrs:{type:"small",title:"2. ИИ перед основным роликом",target:t.ledTarget,options:{id:"pack_2",lang:"ru"}}}),i("player",{attrs:{type:"small",title:"Ролик о свердловской области",target:t.ledTarget,options:{id:"main",lang:"ru"}}}),i("player",{attrs:{type:"small",title:"3. ИИ после основного ролика",target:t.ledTarget,options:{id:"pack_3",lang:"ru"}}}),i("player",{attrs:{type:"small",title:"4. ИИ демонстрация экспонатов",target:t.ledTarget,options:{id:"pack_4",lang:"ru"}}}),i("player",{attrs:{type:"small",title:"5.RU. ИИ Завершение RU",target:t.ledTarget,options:{id:"pack_5",lang:"ru"}}})],1)]),i("el-tab-pane",{attrs:{label:"Сценарные видео на большом экране (en)"}},[i("div",{staticClass:"player-container"},[i("player",{attrs:{type:"small",dimLight:!0,title:"Delegate 1",target:t.scenario,options:{id:"visitors_1",lang:"en"}}}),i("player",{attrs:{type:"small",dimLight:!0,title:"Delegate 2",target:t.scenario,options:{id:"visitors_2",lang:"en"}}}),i("br"),i("br"),i("player",{attrs:{type:"small",dimLight:!0,title:"1. ИИ-Intro",target:t.ledTarget,options:{id:"pack_1",lang:"en"}}}),i("player",{attrs:{type:"small",title:"2. ИИ перед основным роликом",target:t.ledTarget,options:{id:"pack_2",lang:"en"}}}),i("player",{attrs:{type:"small",title:"Ролик о свердловской области",target:t.ledTarget,options:{id:"main",lang:"en"}}}),i("player",{attrs:{type:"small",title:"3. ИИ после основного ролика",target:t.ledTarget,options:{id:"pack_3",lang:"en"}}}),i("player",{attrs:{type:"small",title:"4. ИИ демонстрация экспонатов",target:t.ledTarget,options:{id:"pack_4",lang:"en"}}}),i("player",{attrs:{type:"small",title:"5.RU. ИИ Завершение RU",target:t.ledTarget,options:{id:"pack_5",lang:"en"}}})],1)]),i("el-tab-pane",{attrs:{label:"Промо-ролики на большом экране"}},[i("h3",[t._v("Промо-ролики")]),i("div",{staticClass:"player-container"},t._l(t.presList,(function(e){return i("div",{key:e.id},[i("span",[i("player",{attrs:{type:"small",title:e.id+". "+e.subtitle_ru,target:t.ledTargetSs,options:{id:e.id}}})],1)])})),0)]),i("el-tab-pane",{attrs:{label:"Ручная активация экспонатов"}},[i("table",{staticClass:"exponates-table"},[i("tr",[i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(17)))]),i("el-button",{ref:"p1",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(1,17)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(20)))]),t._v(" "),i("el-button",{ref:"p3",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(2,20)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(9)))]),t._v(" "),i("el-button",{ref:"p5",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(3,9)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(13)))]),t._v(" "),i("el-button",{ref:"p7",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(4,13)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(12)))]),i("el-button",{ref:"p9",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(5,12)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(10)))]),i("el-button",{ref:"p11",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(6,10)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(18)))]),i("el-button",{ref:"p13",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(7,18)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(21)))]),i("el-button",{ref:"p15",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(8,21)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(16)))]),i("el-button",{ref:"p17",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(9,16)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(3)))]),i("el-button",{ref:"p19",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(10,3)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(1)))]),i("el-button",{ref:"p21",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(11,1)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(6)))]),i("el-button",{ref:"p23",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(12,6)}}})],1)]),i("tr",[i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(24)))]),i("el-button",{ref:"p2",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(1,24)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(14)))]),i("el-button",{ref:"p4",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(2,14)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(15)))]),i("el-button",{ref:"p6",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(3,15)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(11)))]),i("el-button",{ref:"p8",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(4,11)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(19)))]),i("el-button",{ref:"p10",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(5,19)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(7)))]),i("el-button",{ref:"p12",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(6,7)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(8)))]),i("el-button",{ref:"p14",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(7,8)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(23)))]),i("el-button",{ref:"p16",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(8,23)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(5)))]),i("el-button",{ref:"p18",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(9,5)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(4)))]),i("el-button",{ref:"p20",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(10,4)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(2)))]),i("el-button",{ref:"p22",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(11,2)}}})],1),i("td",[i("span",{staticClass:"exponate_title"},[t._v(t._s(t.getTitle(22)))]),i("el-button",{ref:"p24",staticClass:"player--play",attrs:{icon:"el-icon-video-play",circle:""},on:{click:function(e){return t.runVideoSmall(12,22)}}})],1)])])])],1)],1)])},I=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"clearfix"},[i("h3",[t._v("Заблокировать экспонаты")])])}],$={name:"Manual",components:{Player:R},props:{showDialog:{type:Boolean,default:!1}},data:function(){return{boolean:!1,qClient:null,radio1:"",expoSwitch:!1,ledTarget:"/lit3d/master/visual",ledTargetSs:"/lit3d/slave/led/ss",ledTargetSpash:"/lit3d/slave/led/splash",scenario:"/lit3d/master/scenario",exhibits:"/lit3d/master/exhibits",presList:[{id:1,subtitle_ru:"Авиационная логистика"},{id:2,subtitle_ru:"Железнодорожная логистика"},{id:3,subtitle_ru:"Образование"},{id:4,subtitle_ru:"Наука"},{id:5,subtitle_ru:"Комфортная среда"},{id:6,subtitle_ru:"Международное сотрудничество и MICE"},{id:7,subtitle_ru:"Чёрная металлургия"},{id:8,subtitle_ru:"Цветная металлургия"},{id:9,subtitle_ru:"Авиапромышленность"},{id:10,subtitle_ru:"Химическая промышленность"},{id:11,subtitle_ru:"Лесная промышленность"},{id:12,subtitle_ru:"Машиностроение"},{id:13,subtitle_ru:"IT-сфера"},{id:14,subtitle_ru:"Приборостроение"},{id:15,subtitle_ru:"Пищевая промышленность"},{id:16,subtitle_ru:"Медицина"},{id:17,subtitle_ru:"Лёгкая промышленность"},{id:18,subtitle_ru:"Вагоностроение"},{id:19,subtitle_ru:"Нефтегазовая отрасль"},{id:20,subtitle_ru:"Танкостроение"},{id:21,subtitle_ru:"Туризм"},{id:22,subtitle_ru:"Инвестиционная политика"},{id:23,subtitle_ru:"Универсиада"},{id:24,subtitle_ru:"Строительные материалы"}]}},methods:{runVideoSmall:function(t,e){var i={id:e,muted:!0};this.qClient.publish("/lit3d/slave/line/".concat(t,"/ss"),i)},getMessageExpo:function(t,e,i){console.log(t,e,i),this.expoSwitch=t.allow},getTitle:function(t){return t}},watch:{expoSwitch:function(t){this.qClient.publish(this.exhibits,{allow:t})}},mounted:function(){var t=this;this.qClient=new y,this.qClient.subscribe(this.exhibits,this.getMessageExpo),this.qClient.publish(this.exhibits,{}).then((function(e){return t.expoSwitch=e.allow}));for(var e=1;e<=12;e++)this.qClient.subscribe("/lit3d/line/".concat(e),{qos:0})},beforeDestroy:function(){this.qClient.unsubscribe(this.exhibits,this.getMessageExpo);for(var t=1;t<=12;t++)this.qClient.unsubscribe("/lit3d/line/".concat(t))}},Q=$,J=(i("7810"),Object(k["a"])(Q,H,I,!1,null,"18d81b1e",null)),N=J.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"manual"},[i("h1",[t._v("Режим презентации")]),i("div",{staticStyle:{position:"absolute",right:"380px",top:"10px","text-align":"center"}},[i("h3",[t._v("Остановить презентацию")]),i("el-button",{staticClass:"player--pause",staticStyle:{"font-size":"30px","margin-top":"-10px"},attrs:{icon:"el-icon-circle-close",circle:""},on:{click:t.goToSplash}})],1),i("p",[t._v("Подключить внешнее устройство по:")]),i("el-button",{staticClass:"share-btn",attrs:{type:"primary",round:""},on:{click:t.startHdmi}},[t._v("HDMI")]),i("el-button",{staticClass:"share-btn",attrs:{type:"primary",round:""}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M22 17.607c-.786 2.28-3.139 6.317-5.563 6.361-1.608.031-2.125-.953-3.963-.953-1.837 0-2.412.923-3.932.983-2.572.099-6.542-5.827-6.542-10.995 0-4.747 3.308-7.1 6.198-7.143 1.55-.028 3.014 1.045 3.959 1.045.949 0 2.727-1.29 4.596-1.101.782.033 2.979.315 4.389 2.377-3.741 2.442-3.158 7.549.858 9.426zm-5.222-17.607c-2.826.114-5.132 3.079-4.81 5.531 2.612.203 5.118-2.725 4.81-5.531z"}})]),t._v(" AirPlay")]),i("el-button",{staticClass:"share-btn",attrs:{type:"primary",round:""}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M6 8l.001 9.444c0 .861.696 1.556 1.557 1.556h.442v3.542c0 .804.707 1.458 1.51 1.458.806 0 1.49-.654 1.49-1.459v-3.541h2v3.542c0 .804.707 1.458 1.511 1.458.806 0 1.489-.654 1.489-1.459v-3.541l.444-.001c.858 0 1.556-.696 1.556-1.557v-9.442h-12zm16 1.471c0-.805-.695-1.471-1.5-1.471-.805-.001-1.5.667-1.5 1.472v6.106c0 .806.694 1.422 1.5 1.422.805 0 1.5-.615 1.5-1.422v-6.107zm-17 0c0-.805-.695-1.471-1.5-1.471-.805-.001-1.5.667-1.5 1.472v6.106c0 .806.694 1.422 1.5 1.422.805 0 1.5-.615 1.5-1.422v-6.107zm9.951-7.312l.94-1.859c.068-.132-.019-.3-.163-.3-.066 0-.13.038-.164.105l-.949 1.878c-1.531-.737-3.544-.812-5.229 0l-.95-1.878c-.033-.067-.097-.105-.164-.105-.144 0-.231.168-.163.3l.94 1.859c-1.845 1.034-3.049 2.584-3.049 4.84h12c0-2.256-1.204-3.806-3.049-4.84zm-5.45 2.841c-.276 0-.501-.224-.501-.5 0-.274.225-.5.501-.5s.499.226.499.5c0 .276-.223.5-.499.5zm4.998 0c-.276 0-.499-.224-.499-.5 0-.274.223-.5.499-.5s.501.226.501.5c0 .276-.225.5-.501.5z"}})]),t._v(" Android")]),i("div",[i("h3",[t._v("Выбрать заставку")]),i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t.URL,"auto-upload":!1,"on-change":t.handleUpload}},[i("el-button",{attrs:{slot:"trigger",type:"primary"},slot:"trigger"},[t._v("Выбрать файл")]),t._v(" "),i("br"),t._v(" "),i("br"),i("el-button",{attrs:{type:"success"},on:{click:t.changeSplashScreen}},[t._v("Заменить заставку на главном экране")]),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.resetSplashScreen}},[t._v("Заставка по умолчанию")])],1)],1)],1)},F=[],K=(i("b0c0"),i("5cc6"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),{name:"Presentation",props:{showDialog:{type:Boolean,default:!1}},data:function(){return{boolean:!1,radio1:"",qClient:null,target:"/lit3d/slave/0/webcam",ledTargetSpash:"/lit3d/slave/0/splash",imgTarget:"/lit3d/slave/led/image",dialogImageUrl:"",dialogVisible:!1,file:null,URL:"/user_content",imgPath:""}},methods:{startHdmi:function(){this.qClient.publish(this.target,{hdmi:1})},goToSplash:function(){this.qClient.publish(this.ledTargetSpash,1)},handleRemove:function(t,e){console.log(t,e),this.file=null},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleUpload:function(t,e,i){var a=this;if(console.log(t,e,i),t){this.file=t;var n=this.file.raw;if(!n)return;var s=new FileReader;s.filename=n.name,s.addEventListener("load",(function(){for(var t=s.result,e=t.length,i=new Uint8Array(e),n=0;n<e;n++)i[n]=255&t.charCodeAt(n);var l=new XMLHttpRequest;a.imgPath="".concat(a.URL,"/").concat(s.filename),l.open("PUT",a.imgPath,!1),l.send(i)})),s.readAsBinaryString(n)}},changeSplashScreen:function(){this.qClient.publish(this.imgTarget,{src:this.imgPath})},resetSplashScreen:function(){this.qClient.publish(this.imgTarget,{})},uploadImage:function(){}},mounted:function(){this.qClient=new y}}),Y=K,Z=Object(k["a"])(Y,G,F,!1,null,"345202fc",null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tech"},[i("h1",[t._v("Техническое управление")]),i("div",{staticClass:"block"},[i("span",{staticClass:"demonstration"},[t._v("Потолочный свет")]),i("el-slider",{model:{value:t.mainLight,callback:function(e){t.mainLight=e},expression:"mainLight"}}),i("div",{staticClass:"btns"},[i("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.mainLight=0}}},[t._v("0%")]),i("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.mainLight=100}}},[t._v("100%")])],1)],1),i("div",{staticClass:"block"},[i("span",{staticClass:"demonstration"},[t._v("Ниша верхний свет")]),i("el-slider",{model:{value:t.nicheTopLight,callback:function(e){t.nicheTopLight=e},expression:"nicheTopLight"}}),i("div",{staticClass:"btns"},[i("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.nicheTopLight=0}}},[t._v("0%")]),i("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.nicheTopLight=100}}},[t._v("100%")])],1)],1),i("div",{staticClass:"block"},[i("span",{staticClass:"demonstration"},[t._v("Ниша нижний свет")]),i("el-slider",{model:{value:t.nicheBottomLight,callback:function(e){t.nicheBottomLight=e},expression:"nicheBottomLight"}}),i("div",{staticClass:"btns"},[i("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.nicheBottomLight=0}}},[t._v("0%")]),i("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.nicheBottomLight=100}}},[t._v("100%")])],1)],1),i("div",{staticClass:"block"},[i("span",{staticClass:"demonstration"},[t._v("Свет Европа-Азия")]),i("el-slider",{model:{value:t.europeAsiaLight,callback:function(e){t.europeAsiaLight=e},expression:"europeAsiaLight"}}),i("div",{staticClass:"btns"},[i("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.europeAsiaLight=0}}},[t._v("0%")]),i("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.europeAsiaLight=100}}},[t._v("100%")])],1)],1),i("div",{staticStyle:{display:"flex",width:"100%","justify-content":"space-between"}},[i("div",[i("h3",[t._v("Наружный свет")]),i("el-switch",{staticClass:"expo-switch",attrs:{width:80,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.lightOuter,callback:function(e){t.lightOuter=e},expression:"lightOuter"}})],1),i("div",[i("h3",[t._v("Наружные экспонаты")]),i("el-switch",{staticClass:"expo-switch",attrs:{width:80,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.lightExponates,callback:function(e){t.lightExponates=e},expression:"lightExponates"}})],1),i("div",[i("h3",[t._v("Приточная вентиляция")]),i("el-switch",{staticClass:"expo-switch",attrs:{width:80,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.ventilation,callback:function(e){t.ventilation=e},expression:"ventilation"}})],1),i("div",[i("h3",[t._v("Вытяжка")]),i("el-switch",{staticClass:"expo-switch",attrs:{width:80,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.ventilationHood,callback:function(e){t.ventilationHood=e},expression:"ventilationHood"}})],1)])])},it=[],at=(i("a9e3"),i("25eb"),{name:"Tech",components:{},props:{showDialog:{type:Boolean,default:!1}},data:function(){return{mainLight:0,nicheTopLight:0,nicheBottomLight:0,europeAsiaLight:0,lightOuter:!1,lightExponates:!1,ventilation:!1,ventilationHood:!1,qClient:new y,skipWatch:!1}},methods:{getMessage:function(t,e,i){var a;switch(console.log(this),console.log(t,e,i),this.skipWatch=!0,t){case"/devices/wb-dac/controls/EXT1_O1":case"/devices/wb-dac/controls/EXT1_O2":a=Math.round(this.convert(e)/100),a!=this.mainLight&&(this.mainLight=a);break;case"/devices/wb-dac/controls/EXT1_O3":a=Math.round(this.convert(e)/100),a!=this.nicheBottomLight&&(this.nicheBottomLight=a);break;case"/devices/wb-dac/controls/EXT1_O4":a=Math.round(this.convert(e)/100),a!=this.nicheTopLight&&(this.nicheTopLight=a);break;case"/devices/wb-dac/controls/EXT1_O5":a=Math.round(this.convert(e)/100),a!=this.europeAsiaLight&&(this.europeAsiaLight=a);break;case"/devices/wb-gpio/controls/EXT2_R3A4":a=Math.round(this.convert(e)),a!=this.ventilation&&(this.ventilation=a),this.skipWatch=!1;break;case"/devices/wb-gpio/controls/EXT2_R3A5":a=Math.round(this.convert(e)),a!=this.ventilationHood&&(this.ventilationHood=a),this.skipWatch=!1;break;case"/devices/wb-gpio/controls/EXT2_R3A3":a=Math.round(this.convert(e)),a!=this.lightOuter&&(this.lightOuter=a),this.skipWatch=!1;break;case"/devices/wb-gpio/controls/EXT2_R3A2":a=Math.round(this.convert(e)),a!=this.lightExponates&&(this.lightExponates=a),this.skipWatch=!1;break;default:this.skipWatch=!1}},convert:function(t){var e=new TextDecoder("utf-8");return Number.parseInt(e.decode(t))}},watch:{mainLight:function(t){if(this.skipWatch)this.skipWatch=!1;else{var e=100*t;this.qClient.publish("/devices/wb-dac/controls/EXT1_O1/on",e),this.qClient.publish("/devices/wb-dac/controls/EXT1_O2/on",e)}},nicheTopLight:function(t){if(this.skipWatch)this.skipWatch=!1;else{var e=100*t;this.qClient.publish("/devices/wb-dac/controls/EXT1_O4/on",e)}},nicheBottomLight:function(t){if(this.skipWatch)this.skipWatch=!1;else{var e=100*t;this.qClient.publish("/devices/wb-dac/controls/EXT1_O3/on",e)}},europeAsiaLight:function(t){if(this.skipWatch)this.skipWatch=!1;else{var e=100*t;this.qClient.publish("/devices/wb-dac/controls/EXT1_O5/on",e)}},lightOuter:function(t){this.skipWatch?this.skipWatch=!1:this.qClient.publish("/devices/wb-gpio/controls/EXT2_R3A3/on",~~t)},lightExponates:function(t){this.skipWatch?this.skipWatch=!1:this.qClient.publish("/devices/wb-gpio/controls/EXT2_R3A2/on",~~t)},ventilation:function(t){this.skipWatch?this.skipWatch=!1:this.qClient.publish("/devices/wb-gpio/controls/EXT2_R3A4/on",~~t)},ventilationHood:function(t){this.skipWatch?this.skipWatch=!1:this.qClient.publish("/devices/wb-gpio/controls/EXT2_R3A5/on",~~t)}},mounted:function(){console.log(this),this.qClient.subscribe("/devices/wb-dac/controls/EXT1_O1",{qos:0}),this.qClient.subscribe("/devices/wb-dac/controls/EXT1_O3",{qos:0}),this.qClient.subscribe("/devices/wb-dac/controls/EXT1_O4",{qos:0}),this.qClient.subscribe("/devices/wb-dac/controls/EXT1_O5",{qos:0}),this.qClient.subscribe("/devices/wb-gpio/controls/EXT2_R3A1",{qos:0}),this.qClient.subscribe("/devices/wb-gpio/controls/EXT2_R3A2",{qos:0}),this.qClient.subscribe("/devices/wb-gpio/controls/EXT2_R3A3",{qos:0}),this.qClient.subscribe("/devices/wb-gpio/controls/EXT2_R3A4",{qos:0}),this.qClient.subscribe("/devices/wb-gpio/controls/EXT2_R3A5",{qos:0})}}),nt=at,st=(i("5a66"),Object(k["a"])(nt,et,it,!1,null,"0046ec94",null)),lt=st.exports,ot=i("5c96"),ct=i.n(ot);i("0fae"),i("f843");a["default"].use(L.a,O.a),a["default"].use(E["a"]),a["default"].use(ct.a),a["default"].config.productionTip=!1;var rt=new E["a"]({mode:"history",routes:[{path:"/manual",component:N,props:{showDialog:!0}},{path:"/auto",component:D},{path:"/presentation",component:tt},{path:"/tech",component:lt}]});new a["default"]({render:function(t){return t(x)},router:rt}).$mount("#app")},"5a66":function(t,e,i){"use strict";var a=i("fbbe"),n=i.n(a);n.a},6:function(t,e){},7:function(t,e){},7810:function(t,e,i){"use strict";var a=i("bf0a"),n=i.n(a);n.a},8:function(t,e){},"85ec":function(t,e,i){},b3df:function(t,e,i){"use strict";var a=i("102b"),n=i.n(a);n.a},bf0a:function(t,e,i){},f843:function(t,e,i){},fbbe:function(t,e,i){}});
//# sourceMappingURL=app.5e25c8cb.js.map